## 说明
#### 几个序列的测试情况：
* 00: 跟踪效果不错，但在第一个转弯时运动过大，一下就丢失了。
* 01: 跟踪效果最好，可以跟踪到180+帧，但由于基本都是直线，累计误差有些大，得出的轨迹比实际的长了很多；另外由于序列01在高速上跑，特征点都集中在天空和树的交界处。
* 05: 跟踪效果不好，很快就结束了。
* 07: 跟踪效果一般。
* 09: 跟踪效果不好,很快就结束了。

#### 运行效果(以序列01为例)：
* 最长跟踪帧数: 210 帧
* 每帧有效的精确匹配点数: 250 - 450 个
* 左右特征提取及匹配(Frame): 0.095 - 0.110 s
* 特征点与地图点的匹配: 0.001 - 0.005 s
* 位姿估计和优化(VO整体用时): 0.002 - 0.008 s
 
#### 其他：
* 由于本人最近一段时间较忙，就不去组队坑别人了，所以这个工程是自己一个人做的。
* 工程以书中的 project 0.4 为框架，在其基础上修改补充，工作量都记录在本文里了。
* 从开始做大作业到结束所花的时间也不到10天，所以效果有限，只完成了一个基础的VO.
* 经过这次课程和作业的摧残，算是入门了吧，感恩！

## TODO
+ [Frame] 特征点的提取分配不均匀，需要参考ORB_SLAM2的方式对图像分成若干个 cell 再提取特征点，使其分布更加均匀。
+ [VO] 将 pnp 改成 icp 求解

## 5.20
- DONE: 代码美化，删掉没有用到的内容。
- DONE: 完成了几个序列的完整测试，书写报告。

## 5.19
* PROBLEM: 发现问题: solvepnp - Assertion failed.
* PROBLEM: 特征点选择对动态物体的筛选性不好。

- DONE: 解决了PnP局内点数量都不足的问题，原因在于手贱修改了getPositionCV()中的返回值。
- DONE: 经过RANSAC提高了匹配精度后，01序列可以正常跑到180+帧。
- DONE: 解决了 solvepnp - Assertion failed 的问题。原因在于 solvepnp 必须提供至少4对点，当后期匹配点数量不足时容易出现，加上一个使用的判断条件即可。

## 5.18 
* PROBLEM: 代码误删...心态崩了...
* PROBLEM: 代码恢复后，不知为何每次计算PnP时得到的局内点数量都不足。

- DONE: 恢复到5.16的代码。

## 5.17
* PROBLEM: 想使用ORB_SLAM2的 ORBextractor 来提取ORB特征点，代码移植失败...

- DONE: 加入RANSAC算法，提高了匹配精度。01序列从原来的近2000个特征点选出1500个匹配，改进到目前稳定到300-500个精确匹配点，几乎没有误匹配。

## 5.16
* PROBLEM: 记录的轨迹只有KeyFrame的姿态，轨迹对比中要提取groundtruth中对应的帧的姿态跟其进行对比。

- DONE: 解决了KeyFrame的姿态对比问题。

## 5.15
* PROBLEM: unordered_map格式的map_points_在erase()时会造成内存溢出错误。
* PROBLEM: 计算到100帧左右累计误差过大，MapPoint没有更新，要想办法降低累计误差。

- DONE: 解决了unordered_map内存溢出的错误，不要在迭代器的值变动后进行访问，否则会出现越界的情况。
- DONE: 解决了程序执行一半过程中内存溢出的错误，将Frame类中特征点kpsLeft_和描述子descLeft_的尺寸与ind_kp_dep_一致。
- DONE: 初步完成了一个利用ICP对比KITTI轨迹的程序。

## 5.14
* PROBLEM: 计算到90帧左右累计误差过大，程序结束，要想办法降低累计误差。
* PROBLEM: 前90帧内也有个别帧误差很大，经过后面帧的优化后，后面帧的位姿可以拉回来，但前面帧估计的位姿无法拉回。

- DONE: 完成了深度计算的纠正。
- DONE: 把特征点计算和匹配改到Frame类里进行。
- DONE: 写了一个简单的记录轨迹的代码。

## 5.10
* PROBLEM: 第二帧后的MapPoints没有更新,关键帧检测失败？
* PROBLEM: 视差图计算不对，待纠正。

- DONE: 完成了双目的深度读取。

## 5.09
* PROBLEM: 计算深度部分的代码待修改。

- DONE: 采用slambook的project框架（RGB-D），初步完成几个类的改造。


